import{g as C,r as l,y as _,z as F,c as A,a as m,b as I,A as p,l as u,t as T,o as s}from"./Ctk2bxby.js";import N from"./C1Yh4w8h.js";import B from"./CZ1BS54L.js";import P from"./DXH-eOvK.js";import w from"./azMmoLcK.js";import V from"./D6VMkvYp.js";import $ from"./BAvUUdZm.js";import"./DDb9vxPD.js";import"./B-dksMZM.js";import"./2dOUpm6k.js";import"./C8zCZzcd.js";import"./DQkuCXhl.js";import"./DpbnFzTh.js";import"./CDZSN1s3.js";import"./0rkCnCOE.js";import"./CLkuHKoA.js";import"./CrVZ2b1U.js";import"./kWlq2xcO.js";import"./LzCbvAUM.js";import"./Bqh5sQgi.js";import"./BCkQveRp.js";import"./FMKl2hSW.js";const b={class:"min-h-screen bg-[#FAFAFA]"},O={class:"flex items-start justify-center px-4 py-8"},R={class:"w-full max-w-[1200px] rounded-xl shadow-sm bg-white p-8"},E={style:{"font-family":"Geist, sans-serif","font-weight":"600","font-size":"24px","line-height":"32px","letter-spacing":"-0.6px",color:"#0B3947"},class:"mb-6"},d="visa_application_data",ie=C({__name:"visa-application",setup(q,{expose:S}){const g=F(),o=l(1),c=l(""),a=l(""),r=l({}),n=l({}),i=l({}),v=()=>{const e={step:o.value,tripData:r.value,travelersData:n.value,passportData:i.value,nationalityCountry:c.value,destinationCountry:a.value};localStorage.setItem(d,JSON.stringify(e)),console.log("Saved to localStorage:",e)};_(()=>{c.value=g.query.from||"Pakistan",a.value=g.query.to||"Morocco";const e=localStorage.getItem(d);if(e)try{const t=JSON.parse(e);o.value=t.step||1,r.value=t.tripData||{},n.value=t.travelersData||{},i.value=t.passportData||{},t.nationalityCountry&&(c.value=t.nationalityCountry),t.destinationCountry&&(a.value=t.destinationCountry),console.log("Restored data from localStorage:",t)}catch(t){console.error("Failed to restore data from localStorage:",t)}});const D=e=>{r.value={...e,applicants:parseInt(e.applicants)},o.value=2,v(),console.log("Step 1 data (Trip Info):",e)},h=e=>{n.value=e,o.value=3,v(),console.log("Step 2 data (Personal Details):",e)},x=e=>{i.value=e,o.value=4,v(),console.log("Step 3 data (Passport Details):",e)},k=e=>{console.log("Step 4 data (Processing Time):",e),console.log("Processing type:",e.processingType),console.log("Processing fee:",e.processingFee);const t={tripInfo:r.value,personalDetails:n.value,passportDetails:i.value,processingInfo:e};console.log("Complete Application Data:",t),alert(`Application complete!
Processing: ${e.processingType}
Fee: Rs ${e.processingFee}`),f()},f=()=>{localStorage.removeItem(d),console.log("Cleared saved data")};return S({clearSavedData:f}),(e,t)=>(s(),A("div",b,[m("div",O,[m("div",R,[m("h1",E," Apply now for your "+T(a.value)+" e VISA ",1),I(N,{"current-step":o.value},null,8,["current-step"]),o.value===1?(s(),p(B,{key:0,destination:a.value},null,8,["destination"])):u("",!0),o.value===1?(s(),p(P,{key:1,nationality:c.value,destination:a.value,onNext:D},null,8,["nationality","destination"])):u("",!0),o.value===2?(s(),p(w,{key:2,destination:a.value,"initial-traveler-count":r.value.applicants,"initial-travelers-data":n.value.travelers,onNext:h,onBack:t[0]||(t[0]=y=>o.value=1)},null,8,["destination","initial-traveler-count","initial-travelers-data"])):u("",!0),o.value===3?(s(),p(V,{key:3,destination:a.value,"traveler-count":n.value.travelers?.length||0,"initial-passport-data":i.value.passportDetails,onNext:x,onBack:t[1]||(t[1]=y=>o.value=2)},null,8,["destination","traveler-count","initial-passport-data"])):u("",!0),o.value===4?(s(),p($,{key:4,destination:a.value,"traveler-count":n.value.travelers?.length||0,"government-fee":(n.value.travelers?.length||0)*3667.16,onNext:k,onBack:t[2]||(t[2]=y=>o.value=3)},null,8,["destination","traveler-count","government-fee"])):u("",!0)])])]))}});export{ie as default};
